# Ruby技術者認定試験 REx問題 2020/10/7 実施 正解した問題以外を復習

1. 整数リテラル
    - 0xは16進数を表すプレフィックス
    - 0bは2進数を表すプレフィックス
        - 0b2は2進数ではないので、間違い。0b10が正しい定義。
    - String#octは文字列を8進数で解釈し、整数で返す。8進数で解釈できない場合は0を返す。
        - '80'.octは8進数ではないので、間違い。'100'が正しい定義。

1. 日付のフォーマット文字列
    - 01/05/15を表すには?
    ```
    d = Date.new(2015, 1, 5)
    puts d.strftime("%x")
    ```

1. Stringクラスのメソッド
    - 次のコードを実行するとどうなるか?
    ```
    hoge = "a".to_h
    # => Stringクラスにto_hというメソッドはないため、この時点でエラーになる。
    puts hoge.class
    ```

1. each_sliceメソッド
    - Array#each_slice(n)は、selfからn個で配列を区切りブロックに渡す。
    ```
    arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    arr.each_slice(3) do |i|
        p i
    end
    
    # =>
    # [1, 2, 3]
    # [4, 5, 6]
    # [7, 8, 9]
    # [10]
    ```

1. 日付のフォーマット文字列
    - Date.today.to_sと同じ動作をするコードは?
    ```
    Date.today.to_s
    # => "2020-10-07"
    Date.today.strftime("%Y-%m-%d")
    # => "2020-10-07"
    ```
   
1. Hashオブジェクトの生成
    - 空のHashオブジェクトを生成するには?
        - Hash({})
        - {}
        - Hash.new
        
1. partitionメソッド
    - a, = (1..5).partition(&:odd?)を実行するとどうなるか?
        - partitionメソッド
            - 各要素をブロックの条件を満たす要素と満たさない要素に分割する。真であった要素の配列と、偽であった要素の配列を2つの配列に入れて返す。
        - (&:odd?)
            - ブロックの省略記法。
                - {|i| i.odd? }
                - 奇数であればtrue,偶数であればfalseを返す。

1. splitメソッドと区切り文字の指定
    - splitメソッド
        - 指定した区切り文字で対象となる文字列を分割して配列にするメソッド
    - 異なる区切り文字を指定する場合は...
    ```
    str = "1;2:3;4"
    p str.split(";|:")
    # => ["1;2:3;4"] この書き方だと、区切り文字の複数指定ができていない！
    
    p str.split(/;|:/)
    # => ["1", "2", "3", "4"] 
    ```

1. Stringクラスのメソッド
    - 次のコードを実行するとどうなるか?
    ```
    hoge = "a".to_a
    # => Stringクラスにto_aというメソッドはないため、この時点でエラーになる。
    puts hoge.class
    ```

1. do ... end と { ... } の違い
    - do ... endより { ... }の方が結合度が強いらしいが、以下のコードの実行結果は同じになる。謎。
    ```
    [1,2,3,4].map do |e| e * e end
    # => [1, 4, 9, 16]
    [1,2,3,4].map {|e| e * e}
    # => [1, 4, 9, 16]
    ```

1. with_index()メソッド
    - 要素にインデックス番号を添えてを繰り返す
        - インデックス番号は、()の中の数字から開始される
    ```
    (10..15).to_a.map.with_index(1) do |elem, i|
        puts i
    end
    => 
    1
    2
    3
    4
    5
    6
    ```

1. each_cons(cnt)
    - selfからcnt個ずつ要素を取り出し、配列としてブロックに渡す。
    - 取り出す要素は1ずつ前に進む。
    
1. メソッドと変数の探索順位
    - 変数が先。
    ```
    hoge = 0
    def hoge
        x = 0
        5.times do |i|
            x += 1
        end
        x
    end
    puts hoge
    => 5
    変数hogeがhogeメソッドで5に書き換えられ、hoge = 5になる。
    最後のputs hogeはその変数hogeを参照している。
    ```
