# よく間違える問題

1. 下記コードの実行結果として正しい組み合わせを選択肢の中から選べ。

    ```
    0x65.chr(Encoding::UTF_8)
    => "e"
   
    chrメソッドは文字コードに対応する文字を求めるメソッド。
    0x65.chrは"e"となるが65.chrは"A"となる点に注意。
    ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   cooking = "Rice\nBread\rPasta\n\r"
   p cooking.chomp
   => "Rice\nBread\rPasta\n"
   
   chompメソッドは、末尾から指定した文字列（指定がなければ改行コード"\r", "\r\n", "\n"）を取り除いた文字列を返す。
   ここでは、末尾が"\r\n"ではなく、"\n\r"なので、末尾の"\r"のみが取り除かれる。
   ```

1. 下記コードの実行結果を、選択肢の中から選べ。
   
   ```
   ef.downto(ab){|s| print(s)}
   => エラーになる
   
   downtoメソッドは文字列に使用するとエラーになる。
   数値や日付などに使用可能。
   ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   pass = [8, 9, 2, 1] | [2, 7, 4, 1].sort
   p pass
   => [8, 9, 2, 1, 4, 7]
   
   sortメソッドは、配列の内容をソートする。今回は[2, 7, 4, 1].sortのみがソートされ、
   [8, 9, 2, 1] | [1, 2, 4, 7]となる。
   その後、パイプ演算子によって、重複排除されるため、[8, 9, 2, 1, 4, 7]となる。
   ```

1. 下記コードの実行結果を、選択肢の中から選べ。
   
   ```
   i = 10.upto(20).reject {|d| d >= 15 }
   print i
   => [10, 11, 12, 13, 14]
   
   rejectメソッドはブロックを評価した結果が偽である要素を含む配列を返す。
   今回は、10~20の間で、15以上でない数字[10, 11, 12, 13, 14]が配列として返る。
   逆に、selectメソッドにした場合は、評価した結果が真である要素を含む配列を返すため、
   [15, 16, 17, 18, 19, 20]が返る。
   ```

1. File.openのmodeについて正しい説明をしている選択肢を選べ。
   
   ```
   => "a"は書き込み専用。ファイルが存在しない場合、新規作成する。
   File.openメソッドでファイルを開く。
   引数でファイルを開くモードを設定できる。
   
   "r"・・・read 読み込みモード。
   "w"・・・write　書き込みモード。既存ファイルの場合はファイルの内容を空にする。
   "a"・・・append　追記モード。常にファイルの末尾に追加される。
   "r+"・・・読み書きモード。ファイルの読み書き位置は先頭にセットされる。
   "w+"・・・読み書きモード。既存ファイルの場合はファイルの内容を空にする。
   "a+"・・・読み書きモード。ファイルの読み込み位置は先頭にセットされるが、書き込みは常にファイルの末尾に追加される。
   ```

1. 下記コードを実行した際の戻り値を選べ。
   
   ```
   id = [1, 2, 3, 4, 5]
   p id.delete(3)
   => 3
   
   deleteメソッドは指定された値と==メソッドで等しい値があれば全て取り除いて、その値を返す。
   取り除いた配列を返すわけではないので注意！
   なければnilを返す。
   ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   h = {:name => 'sato', :club => 'tennis'}.fetch(:name, 'error')
   print h
   => sato
   
   fetchメソッドは与えられたキーに対する値を返す。
   今回はnameがキーとなる値 'sato'を返す。
   2番目の引数に指定されている 'error'は該当するキーがない場合の返り値となる。今回はキーがあるため、ひっかけなので注意。
   ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   （１）p sprintf("%#b", 20)
   （２）p sprintf("%#o", 20)
   （３）p sprintf("%#x", 20)
   => （１）"0b10100"（２）"024"（３）"0x14"
   
   組み込み関数sprintfでフォーマットの指定ができる。
   第一引数でフォーマット、第二引数でフォーマットしたい値を指定する。
   ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   a = ["fire", "water", "wind"]
   b = a.clone
   c = a
   a.concat(["metal"])
   
   （１）a == b
   （２）a == c
   => （１）false （２）true
   
   a = ["fire", "water", "wind"]
   b = a.clone  
   # この時点で b = ["fire", "water", "wind"]
   c = a
   # この時点で c = ["fire", "water", "wind"]
   a.concat(["metal"])
   # この時点で a = ["fire", "water", "wind", "metal"]
   # 同時に c = ["fire", "water", "wind", "metal"] に変わる。
   
   評価前のa,b,c各変数の要素を整理すると以下となる。
   a = ["fire", "water", "wind", "metal"]
   b = ["fire", "water", "wind"]
   c = ["fire", "water", "wind", "metal"]
   
   よって、結果は以下となる。
   a == b # false
   a == c # true
   ```

1. 戻り値が「Object」以外となるコードを選択肢の中から選べ。
   
   ```
   => puts Integer.superclass # Numeric となる
   
   superclassメソッドを使うことで、継承元のクラスを確認できる。
   String, Array, HashはObjectクラスを継承しているが、
   IntegerとFloatはNumericクラスという数値を表現するクラスを継承している。
   
   Integer.superclass # Numeric
   Float.superclass # Numeric
   String.superclass # Object
   Array.superclass # Object
   Hash.superclass # Object
   ```

1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   Curry = "udon"
   Curry << "rice"
   p Curry
   => 警告は出ず、"udonrice"と出力される。
   
   定数を再代入するときは警告が出るが、<<メソッドで連結するときは警告は出ないので注意！
   ```
   
1. includeの説明として正しいものを選択肢の中から選べ。
   
   ```
   => Moduleクラスのメソッドである
   
   includeメソッドを使用することで、生成したモジュールオブジェクトをクラスに取り込むことができる。
   ```
 
 1. 例外処理の説明として誤っているものを選択肢の中から選べ。
    
    ```
    def exam
      begin
        （１）例外が発生する可能性のある処理
      rescue 
        （２）例外が発生した場合の処理
      else
        （３）正常の処理
      ensure
        （４）例外発生の有無にかかわらず行う処理
      end
    end
    => （３）にraiseを記入することで、強制的に例外を発生させることができる。
    
    raiseで例外を発生させることができるが、（１）の箇所で例外を発生させるべきである。
    ```
    
 1. 下記コードを実行した結果、エラーが発生するものを選べ。
    
    ```
    => meibo = {:Name => Sato, :Class => 1-1, :ID => 1}
    
    値であるSatoを""（ダブルクォーテーション）で囲んでいないのでエラーとなる。
    ```

1. 下記コードを実行した際の戻り値を選べ。
   
   ```
   singer=["shintani", "kamiya"]
   p singer.shift
   => "shintani"
   
   shiftメソッドは先頭から指定された数だけ要素を取り除いて返す。指定がなければ先頭の要素を返す。
   取り除かれた後の配列ではなく、取り除かれた要素の値を返すので注意！
   ```
   
1. 下記コードの実行結果を選択肢の中から選べ。
   
   ```
   a = "victory"
   b = "victory"
   c = a
   
   （１）p a.eql?(b)
   （２）p a.eql?(c)
   （３）p a.equal?(b)
   （４）p a.equal?(c)
   正解: （１）true （２）true （３）false （４）true
   
   eql?メソッドとequal?メソッドの違いの問題。
   eql?メソッドは同値性を判定。値と型が等しければtrueを返し、異なればfalseを返す。
   equal?メソッドは同一性を判定。2つのオブジェクトが同一かどうかを判定し、等しければtrue, 異なればfalseを返す。
   ```

1. Rubyの予約語として適切な物を選びなさい。（２つ選択）

    ```
    1. while
    2. rand
    3. goto
    4. class
    5. const
    
    正解: 1,4
    Rubyの予約語・・・while, class
    それ以外・・・rand, goto, const 
    ```

1. 以下のコードを実行するとどうなりますか？
    
    ```
    x = 0
    [1,2,3].each do |x|
        print x.to_s + " "
    end
    puts x
    
    => 1,2,3,0
    1行目の宣言している変数xとeachブロックの変数xはスコープが異なるため、別の変数として扱われる。
    ```